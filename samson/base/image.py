# coding:utf-8

"""
    图片
"""

from PIL import Image, ImageDraw
from PIL.ExifTags import TAGS


class ImageItem(object):

    image = None

    def __init__(self, **kwargs):
        """
        图像构造函数
        :param kwargs:
        """

        # 从文件中获取图像
        if "path" in kwargs:
            path = kwargs.get('path')
            self.image = Image.open(path)
        else:
            pass

    def thumbnails_for_post(self, out=None):
        """
        适合推到社交网络的缩略图,保持比例
        :return:
        """
        if self.image is None:
            return None

        # 原图比例
        x, y = self.image.size
        ratio = x * 1.0 / y * 1.0

        # 按比例缩放到合适尺寸,小边优先
        size = (1280, 800)
        xx = int(size[0] if size[0] < size[1] else size[1] * ratio)
        yy = size[1]
        self.image.thumbnail((xx, yy), Image.BICUBIC)

        # 增加exif信息之后的图片大小
        xx += 100
        yy += 100
        thumb = Image.new("RGBA", (xx, yy), (51, 51, 51))

        # 拼接
        thumb.paste(self.image, box=(50, 50))

        # 写入Exif信息
        if hasattr(self.image, '_getexif'):
            raw_exif = self.image._getexif()
            exif = dict()
            for key, value in raw_exif.items():
                key = TAGS.get(key)
                exif[key] = value

            """
            {'YResolution': (72, 1), 'ResolutionUnit': 2, 'Copyright': u'', 'WhitePoint': ((313, 1000), (329, 1000)),
             'Make': u'Canon', 'Flash': 16, 'SceneCaptureType': 0, 'GPSInfo': {0: '\x02\x02\x00\x00'},
             'MeteringMode': 6, 'XResolution': (72, 1), 'ExposureBiasValue': (0, 1),
             'MakerNote': '%\x00\x01\x00\x03\x001\x00\x00\x00\x84\x05\x00\x00\x02\x00\x03\x00\x04\x00\x00\x00\xe6\x05\x00\x00\x03\x00\x03\x00\x04\x00\x00\x00\xee\x05\x00\x00\x04\x00\x03\x00"\x00\x00\x00\xf6\x05\x00\x00\x06\x00\x02\x00\x0e\x00\x00\x00:\x06\x00\x00\x07\x00\x02\x00\x18\x00\x00\x00Z\x06\x00\x00\t\x00\x02\x00 \x00\x00\x00r\x06\x00\x00\x0c\x00\x04\x00\x01\x00\x00\x00\xa9\xb2\xfa$\r\x00\x07\x00\x00\x06\x00\x00\x92\x06\x00\x00\x10\x00\x04\x00\x01\x00\x00\x00a\x02\x00\x80\x13\x00\x03\x00\x04\x00\x00\x00\x92\x0c\x00\x00\x15\x00\x04\x00\x01\x00\x00\x00\x00\x00\x00\xa0\x19\x00\x03\x00\x01\x00\x00\x00\x01\x00\x00\x00&\x00\x03\x000\x00\x00\x00\x9a\x0c\x00\x00\x83\x00\x04\x00\x01\x00\x00\x00\x00\x00\x00\x00\x93\x00\x03\x00\x1a\x00\x00\x00\xfa\x0e\x00\x00\x95\x00\x02\x00F\x00\x00\x00.\x0f\x00\x00\x96\x00\x02\x00\x10\x00\x00\x00t\x0f\x00\x00\x97\x00\x07\x00\x00\x04\x00\x00\x84\x0f\x00\x00\x98\x00\x03\x00\x04\x00\x00\x00\x84\x13\x00\x00\x99\x00\x04\x00]\x00\x00\x00\x8c\x13\x00\x00\x9a\x00\x04\x00\x05\x00\x00\x00\x00\x15\x00\x00\xa0\x00\x03\x00\x0e\x00\x00\x00\x14\x15\x00\x00\xaa\x00\x03\x00\x06\x00\x00\x000\x15\x00\x00\xb4\x00\x03\x00\x01\x00\x00\x00\x02\x00\x00\x00\xd0\x00\x04\x00\x01\x00\x00\x00\x00\x00\x00\x00\xe0\x00\x03\x00\x11\x00\x00\x00<\x15\x00\x00\x01@\x03\x00\xe2\x04\x00\x00^\x15\x00\x00\x08@\x03\x00\x03\x00\x00\x00"\x1f\x00\x00\t@\x03\x00\x03\x00\x00\x00(\x1f\x00\x00\x10@\x02\x00 \x00\x00\x00.\x1f\x00\x00\x11@\x07\x00\xfc\x00\x00\x00N\x1f\x00\x00\x12@\x02\x00 \x00\x00\x00J \x00\x00\x13@\x04\x00\x05\x00\x00\x00j \x00\x00\x15@\x07\x00t\x00\x00\x00~ \x00\x00\x16@\x04\x00\x06\x00\x00\x00\xf2 \x00\x00\x17@\x04\x00\x02\x00\x00\x00\n!\x00\x00\x00\x00\x00\x00b\x00\x02\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\xff\x7f\x0f\x00\x04\x00\x02\x00\x00\x00\x03\x00\xff\xff2\x00\xc8\x00\x12\x00\x01\x00t\x00 \x01\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\x00\x00\x00\x00\xff\x7f\xff\xff\xff\xff\xff\xff\x00\x00\xff\xff\x00\x00\x12\x00q\xf8:U\x00\x00\x00\x00\x00\x00\x00\x00D\x00\x00\x00\xa0\x00p\x00t\x00\xa0\x00\x00\x00\x00\x00\x03\x00\x00\x00\x08\x00\x08\x00\x98\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00t\x00\x9c\x00z\x00\x00\x00\x00\x00\xf8\x00\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00Canon EOS 50D\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00Firmware Version 1.0.9\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xaa\xaa_%`%H\x00zt\x00\x03\x00\x00\x00\x00\x00\x00\x01\x00\x00\x06\x00\x00\x00\x98\x9a[w\x00\x00\x12\x00\x01\x00\x00\x00\x00\x01\xbb\xbb\x01\x01\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00@\x00\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02V\x01\xa6\x0c\xcc\xcc\x02\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00<\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x83\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x08\x00\x01\x01\x01\x00\x00\x01\x05\x00\x00\x00\x00\xff\xff\xff\x08\x01\x00\x00\x00\x00\x00\x00\x06\x07\x00\x00\x00\x00\x00 \t\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01%P\x002\x00\x12\x00\xc8\x91u\x9a\x1f\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x90\x12\x00\x00`\x0c\x00\x00p\x07\x00\x00\xf5\x04\x00\x00\xb1\x03\x00\x00v\x02\x00\x00\xa0\x05\x00\x00\xe0\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xa0\x05\x00\x00\xa8\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\xff\x00\x00 \x00\x80\x00\x02\x08\x00\x02\x00\x01\x00\x01\x011.0.9\x0051(20)\x00\x00\x03\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x00\x00\x00d\x00\x00\x00d\x00\x00\x00G\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00e\x00\x00\x00d\x00\x00\x00d\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\x02\x00\x04\x00\x04\xeb\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\x02\x00\x04\x00\x04\xeb\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\x02\x00\x04\x00\x04\xeb\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\x02\x00\x04\x00\x04\xeb\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\x02\x00\x04\x00\x04\xeb\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x03\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x03\x00\x00\x00\xef\xbe\xad\xde\xef\xbe\xad\xde\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x85\x00\x86\x00\x81\x00\x00\x00\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x04\x00\x04\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x04\x00\x04\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x04\x00\x04\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x04\x00\x04\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x04\x00\x04\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\xb6I\xafU\x9f\x00\x00\x00\x04\x00\x04\x00\x00\x00\x00\x00\x04\x00\x00\x00\x04\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc2)\x94\xad\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x9f\x00\x07\x00p\x00`\x00\x02\x00\t\x00\t\x00\x90\x12`\x0c\x90\x12`\x0cc\x00P\x00P\x00P\x00v\x00P\x00P\x00P\x00c\x00O\x00b\x00b\x00b\x00x\x00b\x00b\x00b\x00O\x00\x00\x00\xec\xfc\x14\x03\x1a\xfb\x00\x00\xe6\x04\xec\xfc\x14\x03\x00\x00\xa9\x02i\x01i\x01\x00\x00\x00\x00\x00\x00\x97\xfe\x97\xfeW\xfd\x10\x00\x10\x00\x00\x00\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x004\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff[\x00\x00\x00\x00\x00\x00\x00V\x02\xa6\x01\x00\x00\x00\x00\x00\x00\x00\x00EF-S18-200mm f/3.5-5.6 IS\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00P0406951\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01P\xb2\x17\x002\x00\x1d\x00H\t0\x06\x90\x12`\x0c\\\x12\x88\x0e\x00\x00\x00\x00r\x0b\x15\x0e\x16(\x00\x00\x93\x03\x7f\x01(\x00\xa0\x03\x17\x01\x12\x00\x18\x077\x00\r\x00b\x08\x9d\x01\r\x00o\x00\xb9\x02\x0c\x00\xeb\x02\xf7\x02\x0b\x00\x06\x03\xfd\x00\n\x00D\t\x8c\x04\t\x00-\x00\x98\x05\x08\x00\xa7\x08\x9c\x01\x08\x00&\x06\x03\x00\x05\x00!\x06\x03\x00\x04\x00b\x03\x87\x01\x04\x009\x02\xc5\x01\x04\x00X\x08\x02\x00\x03\x00/\x02\xc8\x01\x03\x007\x02\xca\x01\x03\x00\x88\x03^\x01\x03\x00\xbb\x03\xf7\x00\x03\x00\xf8\x06\x11\x00\x03\x00R\x03\x96\x01\x03\x00M\x03\xbf\x01\x03\x00#\x08\x81\x02\x03\x00\xfff\x00f\xfef\x00e\xffa\x00e\xfff\x00g\xffg\x00f\xfff\x00e\xffd\x00e\xffe\x00e\xffe\x00e\xffd\x00e\xffe\x00a\xffd\x00d\xffd\x00d\xffc\x00b\xffb\x00b\xffb\x00a\xffa\x00a\xfeV\xffX\xfeY\xffZ\xfeZ\xffZ\xfeZ\xffZ\xfe[\xff\\\xfe\\\x00\\\xfe\\\xff]\xfe]\xff]\xfe_\x00_\xfe_\xff_\xfe]\x00^\xfe^\xff`\xfea\xffa\xfea\xff^\xfea\xffb\xfeb\xffc\xfec\xffc\xfec\xffd\xfed\xffd\xfec\xffd\xffd\xffe\xfee\xffd\xfee\xffe\xfee\xffe\xfee\xffe\xfee\xfff\xfef\xfff\xfef\xffg\xfef\xfef\xfef\xffg\xfeg\xffg\xfeg\xffg\xfeg\xffg\xfeg\xffg\xfeg\xffg\xffg\xffg\xfeg\x00g\xffg\xffg\xfeg\x00f\xfeg\x00g\xffg\x00g\xffh\x00g\xffg\x00f\xffg\x00g\xffg\x00g\xffd\x00e\xffg\x00g\xffg\x00g\xfff\x00g\xfff\x00f\xffe\x00e\xffe\x00e\xffe\x00e\xffe\x00e\xffe\x00e\xffd\x00d\xffd\x00c\xffc\x00c\xffc\x01b\xffb\x00b\xfeV\xffY\xfeY\x00Y\xfeZ\x00Z\xfeZ\xff[\xfe[\x00\\\xfe\\\xff]\xfe]\x00]\xfe]\xff^\xfe_\xff_\xfe_\xff_\xfe`\x00_\xfe`\xffa\xfea\xffb\xffb\xffb\xfeb\xffc\xfec\xffc\xfec\x00c\xfed\xffd\xfed\xffe\xffe\xffe\xfee\x00e\xfee\xffe\xfee\xffe\xfee\xffe\xfef\xfff\xfee\xfff\xfef\xfff\xfeg\xffg\xfeg\xffg\xfeg\xffg\xfeg\xffg\xfeg\xffh\xffh\xffh\xfeh\xffh\xffg\xffh\xfeh\xffh\xfeh\x00g\xfff\xffh\xffh\x00h\xffg\x00g\xffg\x00g\xffh\x00g\xffh\x00g\xffh\x00h\xffh\x00h\xffg\x00\\\xffd\x00h\xffh\x00g\xffg\x00g\xffg\x00g\xfff\x00f\xfff\x00f\xffe\x00e\xffe\x00e\xffe\x00e\xffe\x00e\xffd\x00d\xffd\x00d\xffc\x00c\xffc\x00a\xfeY\x00Y\xfeZ\x00Y\xfeY\x00Z\xfeZ\x00[\xfe[\x00\\\xfe]\xff]\xfe]\xff^\xfe]\xff]\xfe^\x00_\xfe_\xff`\xff`\xff`\xfea\xffa\xffb\xffb\xfec\xffb\xfec\xffb\xfeb\xffc\xfec\xffd\xfed\xffe\xfee\xffe\xfee\xffe\xfee\xffd\xfee\xffe\xfee\xffe\xfee\xfff\xfef\xffg\xfef\xfff\xfef\xfff\xfef\xfeg\xfeg\xffg\xfeg\xffg\xfeg\xffg\xfeg\xffg\xfeg\xffg\xfeh\xfff\xfeh\xffh\xfeh\xffh\xfeg\xffh\xfeh\xffh\xffh\xffh\xffh\x00g\xffh\x00h\xffh\x00h\xffh\x00h\xffh\x00h\xffi\x00i\xfeh\x00d\xffh\x00h\xffh\x00h\xffg\x00g\xffg\x00g\xffg\x00g\xffg\x00f\xfff\x00f\xfff\x00e\xffe\x00e\xffe\x00e\xffe\x00d\xffd\x00d\xffc\x00d\xffc\x00b\xfeT\x00Y\xfeZ\xffZ\xfeZ\xffY\xfeZ\x00[\xfe\\\xff\\\xfe]\x00]\xfe]\xff^\xfe^\x00_\xfe_\xff`\xfe`\xff`\xfe`\x00a\xfeb\xffa\xfeb\xffc\xfeb\xffc\xfec\xffc\xffc\xffc\x00\x00\x00\x00\x00\x00\x00\x00t\x01\x00\x00\x04\x00\x00\x00\x01\x00\x00\x00\\\x00\x00\x00\x07\x00\x00\x00\x01\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x02\x01\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x03\x01\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x04\x01\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x05\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x08\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x0f\x01\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x008\x00\x00\x00\x04\x00\x00\x00\x01\x02\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x02\x02\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x03\x02\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x04\x02\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00l\x00\x00\x00\x07\x00\x00\x00\x05\x05\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x06\x05\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x0f\x05\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x10\x05\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x0e\x05\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x0f\x06\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x07\x05\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x00\x00\\\x00\x00\x00\x07\x00\x00\x00\x01\x07\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x02\x07\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x04\x07\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x06\x07\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x0b\x08\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x0f\x08\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x0b\x07\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x90\x12\x00\x00`\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1c\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff<\x0f\x83\x00\x00\x00\x00\x00\x00\x00\x0c\x00\r\x02\x00\x04\x00\x04L\x03\x00\x00"\x00\xe0\x12\x9c\x0c\x01\x00\x01\x00H\x008\x00\xd7\x12\x97\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06\x00I\x03\x00\x04\x00\x04\xe6\x01^\x02\x00\x04\x00\x04r\x02\xbb\x01\x00\x04\x00\x04C\x03H\x03>\x04;\x04\xf1\x01\xb3\x02\xd5\x04\xd3\x04\xdd\x02\x10\x02\x0c\x05\x0b\x05\x0b\x04\xfd\xff\x03\x00\xf7\x00\xff\x00\xef\x00\x00\x00\xa2\t\x1a\x13\x1b\x13\r\r9\x04\x99\x01\x9b\x01\x85\x00\xe4\x00%\x04\'\x04I\x07%\t \x0f\x1b\x0fh\x04H\t\xb0\x13\xb7\x13{\r\x0c\x04\x92\x01\x94\x01z\x00\xd4\x00]\x04[\x04\xae\x07\xd6\x08_\x0fc\x0fP\x04!\x08\x00\x04\x00\x04\xa6\x05\xdb\x13!\x08\x00\x04\x00\x04\xa6\x05\xdb\x13\xa6\x07\xfe\x03\x01\x04\xbd\x05\xa1\x12\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00S\x08\x00\x04\x00\x04\x98\x05P\x14{\t\x00\x04\x00\x04\xc8\x04X\x1b\xe8\x08\x00\x04\x00\x04"\x05p\x17\x9c\x06U\x04U\x04\x81\x08\x80\x0c\x93\x07\x11\x04\x11\x04\x9a\x07\xd1\x0e\x0e\x07\x02\x04\x02\x04\xbb\x06R\x0f\x0b\t\x00\x04\x00\x04\x12\x05j\x18S\x08\x00\x04\x00\x04\x98\x05i\x14S\x08\x00\x04\x00\x04\x98\x05i\x14S\x08\x00\x04\x00\x04\x98\x05i\x14S\x08\x00\x04\x00\x04\x98\x05i\x14S\x08\x00\x04\x00\x04\x98\x05i\x14B\x04\x00\x04\x00\x04\xea\x03\x1e\x10B\x04\x00\x04\x00\x04\xea\x03\x1e\x10B\x04\x00\x04\x00\x04\xea\x03\x1e\x10B\x04\x00\x04\x00\x04\xea\x03\x1e\x10B\x04\x00\x04\x00\x04\xea\x03\x1e\x10\x94\xfe~\x01\xe5\x03\x94*\xa8\xfe\x88\x01\xc7\x03\x10\'\xdf\xfe\xa1\x01~\x03l \xfd\xfe\xb0\x01Y\x03X\x1b1\xff\xcc\x01\x1e\x03p\x17M\xff\xda\x01\xfe\x02\xe0\x15l\xff\xec\x01\xdc\x02P\x14\x97\xff\x08\x02\xb2\x02\\\x12\xcc\xff+\x02\x81\x02h\x10\xfd\xffO\x02X\x02\xd8\x0e)\x00p\x023\x02\xac\ra\x00\x9f\x02\n\x02\x80\x0c\x87\x00\xc3\x02\xf1\x01\xb8\x0b\xb3\x00\xef\x02\xd6\x01\xf0\n\x14\x01`\x03\xa7\x01`\t\xf4\x01\x0f\x08\x1c\x08\x00\x04\x00\x04\x00\x04\x00\x04%\x00/\x00(\x00\x16\x00\x1e\x00"\x000\x00(\x001\x00@\x00B\x00G\x00H\x00E\x00@\x00?\x00\x1d\x00\x1a\x00!\x00-\x00A\x00B\x00J\x00P\x00X\x00O\x00G\x00C\x00C\x00A\x00G\x00?\x00"\x00-\x00)\x00J\x00Q\x00P\x00V\x00\\\x00_\x00M\x00D\x00E\x00G\x00H\x00J\x001\x00)\x00+\x005\x00=\x00A\x00@\x00C\x00@\x00:\x005\x006\x00:\x00:\x006\x00A\x00;\x00C\x00V\x00J\x00+\x007\x00=\x00S\x00C\x00Q\x00f\x00f\x00g\x00f\x00a\x00[\x00S\x00A\x008\x00C\x00[\x00\x7f\x00\x7f\x00\x8c\x00\x93\x00\x9f\x00\x8b\x00{\x00q\x00t\x00o\x00{\x00]\x00O\x00c\x00W\x00\x97\x00\xa1\x00\x9d\x00\xa4\x00\xac\x00\xae\x00\x8c\x00|\x00\x80\x00\x88\x00\x8a\x00\x89\x00I\x00Y\x00]\x00r\x00\x83\x00\x83\x00\x7f\x00\x85\x00~\x00r\x00g\x00l\x00w\x00w\x00o\x00\x82\x00o\x00L\x00_\x00O\x00+\x007\x00<\x00T\x00D\x00Q\x00e\x00e\x00f\x00e\x00_\x00T\x00I\x00D\x00:\x00G\x00\\\x00\x7f\x00\x7f\x00\x8b\x00\x92\x00\x9d\x00\x86\x00u\x00i\x00g\x00a\x00e\x00M\x00R\x00h\x00[\x00\x9a\x00\xa2\x00\x9d\x00\xa4\x00\xab\x00\xac\x00\x86\x00t\x00s\x00t\x00s\x00n\x00=\x00b\x00d\x00z\x00\x86\x00\x84\x00\x7f\x00\x84\x00|\x00o\x00b\x00c\x00g\x00e\x00\\\x00f\x00R\x00A\x00Q\x00D\x00#\x00+\x00.\x00>\x000\x008\x00D\x00B\x00@\x00>\x00:\x005\x00,\x00<\x003\x00;\x00G\x00\\\x00Z\x00a\x00d\x00i\x00Y\x00M\x00D\x00D\x00A\x00E\x00/\x00G\x00W\x00J\x00r\x00s\x00n\x00p\x00s\x00r\x00W\x00K\x00K\x00N\x00N\x00J\x00#\x00N\x00O\x00^\x00c\x00\\\x00W\x00Y\x00R\x00H\x00>\x00>\x00C\x00A\x00;\x00C\x005\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19\x00!\x00o\x00\x0b\x07\xbf\x00\x04\x01\xc0\x00\xed\x00\x01\x03\xdb\x01\xdd\x023\x08\xb3\x06\xfd\x02G\x01\x04\x00\xaf\x02@\x02\xa6\x03\x8a3\xb2\x0e\x8a\x12\xcf\x1c\xb5#\x81O\xb5\x0cP\x07t\x03\x1e\x01\xc5\x00\x9c\x01\x0b\x00^\x02\x1c\x01\xf0\x02Z#\x98\x0f\xf4\x13"\x19E\x1a\x12&\xc7\x04o\x02\xed\x00K\x005\x00i\x00\x02\x00g\x03\xc9\x02U\x05k7\xbf\t\xcd\nW\n\xcb\x07\x82\x0e\xba\x05\xe0\x04\x82\x02\xf7\x00\xbd\x00\x8b\x02\x1d\x00\x00\x00\x00\x00\x00\x00\x00\x80\x00\x00\x8f\x04\x00\x04\x00\x04\x91\nj\x0f\xaa\x1a\xfc\x0e\xe6\xff\xae\x00\xea\x10\x14\x11\x1a\x00P\xff"\x0f\x00\x00\x00\x01\x00\x00\x8d\xf0\x01\x00\xa7\xe6\x01\x00\xa3\xe8\x01\x00\xc7\x96\x00\x04\x00\x04\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\x1f\x00\x01\xff\x1f\x00\x01\x00\x00\x00\x00\x00\x02\xc6\x02\x1d\x02\t\x02\xeb\x02\xbd\x01\x7f\x03\x00\x02\x00\x02\x00\x02\x00\x02\x00\x00#\x00\x86\x00\xea\x00\x00\x01\x00\x01\x00\x01\x00\x00\x1f\x00\x84\x00\xea\x00\x00\x01\x00\x01\x00\x01\x01\x00d\x00\x8e\x00\x00\x00\x00\x00\x10\x00 \x00@\x00`\x00\x80\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a\x03\x1a\x03\x1a\x03\x1a\x03\x1a\x03\x1a\x03\x1a\x03\x88\x04\x00\x00\xff\x03\x00\x04\x00\x04\x00\x04\x00\x00\xb08\x10\'\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x85\x00\x86\x00\x81\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\n\x00\x00\x00\x00\x00\x00\x00\x00\x10t\x00\x01\x00\x00\x00\x00\x00\x00\x00F\x00\x00\x00\x00\x00\x00\x00\\\x12\x90\x12`\x0c\xff\x1f>\x1eW\x18\x84\x13\x94\x0f\xb9\x0c\x00\x00\xf5\x02e\x07\xdf\x08\x9d\t\x1a\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x05\x04\x03\x00 \x00\x00QII*\x00\xc2\x03\x00\x00',
             'ExposureProgram': 3, 'YCbCrCoefficients': ((299, 1000), (587, 1000), (114, 1000)), 'ColorSpace': 65535,
             'ExifImageWidth': 4752, 'DateTimeDigitized': u'2015:07:22 07:43:50', 'ApertureValue': (237568, 65536),
             'UserComment': '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
             'FocalPlaneYResolution': (3168000, 597), 'WhiteBalance': 0, 'FNumber': (35, 10), 'CustomRendered': 0,
             'DateTimeOriginal': u'2015:07:22 07:43:50', 'Artist': u'', 'FocalLength': (18, 1),
             'PrimaryChromaticities': ((64, 100), (33, 100), (21, 100), (71, 100), (15, 100), (6, 100)),
             'ExposureMode': 0, 'ComponentsConfiguration': '\x01\x02\x03\x00', 'FocalPlaneXResolution': (4752000, 894),
             'ExifOffset': 484, 'ExifImageHeight': 3168, 'SubsecTimeDigitized': u'15', 'ISOSpeedRatings': 100,
             'Model': u'Canon EOS 50D', 'DateTime': u'2015:07:22 07:43:50', 'Gamma': (22, 10), 'ExposureTime': (1, 30),
             'FocalPlaneResolutionUnit': 2, 'SubsecTime': u'15', 'Orientation': 1, 'ExifInteroperabilityOffset': 8738,
             'SubsecTimeOriginal': u'15', 'FlashPixVersion': '0100', 'YCbCrPositioning': 2,
             'ShutterSpeedValue': (327680, 65536), 'ExifVersion': '0221'}
            """

            # 相机型号
            _model = exif.get('Model')
            # 拍摄日期
            _datetime = exif.get('DateTimeOriginal')[:10].replace(':', '-')

            # 曝光时间
            _exposuretime = str(exif.get('ExposureTime')[0]) + "/" + str(exif.get('ExposureTime')[1])

            # ISO
            _iso = exif.get('ISOSpeedRatings')

            # 光圈值
            _fnumber = 1.0 * exif.get('FNumber')[0] / exif.get('FNumber')[1]

            # 写入信息
            from PIL import ImageFont
            font = ImageFont.truetype("华文黑体.ttf", 28)
            exif_info = "@%s  %s  F%s %s ISO%s   photo by zzhoo8" % (_datetime, _model, _fnumber, _exposuretime, _iso)
            draw = ImageDraw.Draw(thumb)
            draw.text(xy=(50, yy-40), text=exif_info, fill=(255, 255, 255), font=font)
        try:
            thumb.save("/Users/zzhoo8/out.jpg", format='JPEG')
        except IOError, e:
            print e.message
